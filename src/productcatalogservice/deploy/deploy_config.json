{
  "release": {
    "name": "product-catalog",
    "namespace": "boutique",
    "strategy": {
      "type": "canary",
      "config": {
        "interval": "30s",
        "initial_traffic": 10,
        "traffic_step": 20,
        "max_traffic": 100
      }
    },
    "monitor": {
      "checks": [
        {
          "name": "request-success",
          "min": 99
        },
        {
          "name": "request-duration",
          "min": 0,
          "max": 3500
        },
        {
          "name": "credit-card-failures",
          "query": "sum(payment-service.transaction.errors[30s])",
          "min": 0,
          "max": 3500
        }
      ]
    }
  }
}